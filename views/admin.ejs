<%- include('./partials/header') %>

<div class="w-full h-screen flex items-start px-20 py-20 bg-gray-100">
  <div class="w-[25%] flex h-screen flex-col items-start">
    <div class="flex flex-col">
      <a class="block w-fit mb-2 text-blue-500 hover:text-blue-700" href="">All Products</a>
      <a class="block w-fit mb-2 text-blue-500 hover:text-blue-700" href="/owners/admin">Create new product</a>
    </div>
  </div>

  <div class="w-[75%] flex flex-col gap-5 h-screen">
    <a class="text-red-500 hover:text-red-700" href="/products/delete">Delete all</a>

    <% if (products.length > 0) { %>
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8">
        <% products.forEach(product => { %>
          <div
            class="flex flex-col rounded-lg overflow-hidden shadow-lg transition-transform transform hover:scale-105 p-2"
            style="background-color: <%= product.bgcolor %>; width: 300px; height: 400px;"
          >
            <div
              class="w-full h-[60%] flex items-center justify-center rounded-lg"
              style="background-color: <%= product.bgcolor %>;"
            >
              <img
                class="h-full w-full object-cover"
                src="data:image/jpeg;base64,<%= product.image.toString('base64') %>"
                alt="<%= product.name %>"
              />
            </div>
            <div
              class="flex flex-col px-4 py-3 h-[20%]"
              style="color: <%= product.textcolor %>; background-color: <%= product.panelcolor %>;"
            >
              <h3 class="text-lg font-semibold mb-1"><%= product.name %></h3>
              <h4 class="text-md mb-2">â‚¹ <%= product.price %></h4>
            </div>
            <div class="flex flex-col px-4 py-2 h-[20%]" style="color: <%= product.textcolor %>; background-color: <%= product.panelcolor %>;">
              <h4 class="text-sm"><%= product.description %></h4>
            </div>
            <div class="flex items-center gap-3 px-4 py-3" style="background-color: <%= product.panelcolor %>;">
              <a
                class="w-7 h-7 flex items-center justify-center rounded-full bg-white hover:bg-gray-200 transition-colors"
                href="/products/delete/<%= product._id %>"
              >
                <i class="ri-delete-bin-line text-red-600"></i>
              </a>
              <a
                class="w-7 h-7 flex items-center justify-center rounded-full bg-white hover:bg-gray-200 transition-colors"
                href="/products/edit/<%= product._id %>"
              >
                <i class="ri-edit-line"></i>
              </a>
            </div>
          </div>
        <% }) %>
      </div>
    <% } else { %>
      <p class="text-gray-500">No products available.</p>
    <% } %>
  </div>
</div>

<%- include('./partials/footer') %>
